{
  "openapi": "3.0.3",
  "info": {
    "title": "mysupply Public API",
    "version": "0.1.0"
  },
  "servers": [
    {
      "url": "https://{env}-api.mysupply.io"
    }
  ],
  "security": [
    {
      "BearerAuth": []
    },
    {
      "OAuth2ClientCredentials": []
    }
  ],
  "paths": {
    "/demands": {
      "post": {
        "summary": "Submit a new demand",
        "tags": ["Demands"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/newDemand"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Demand was created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "The mysupply ID assigned to the demand",
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "id": "83da61b6-e11e-495d-9808-3e1ff7869c19"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "422": {
            "description": "Unprocessable entity"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "get": {
        "summary": "Fetch a paginated list of demands",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "The number of the page to fetch starting at 1"
          },
          {
            "name": "q",
            "in": "query",
            "required": false,
            "description": "Advanced search filter expressed as a JSON object.\n\nStructure:\n- type: `query`\n- operator: `and | or`\n- elements: array of filter elements\n\nEach element:\n- type: `element`\n- field: string\n- operator: `eq | neq | lt | lte | gt | gte | contains | not-contains | blank | not-blank`\n- value: string (optional for blank / not-blank)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdvancedSearchQuery"
                },
                "example": {
                  "type": "query",
                  "operator": "and",
                  "elements": [
                    {
                      "type": "element",
                      "field": "title",
                      "operator": "eq",
                      "value": "base"
                    },
                    {
                      "type": "element",
                      "field": "requestor",
                      "operator": "contains",
                      "value": "mysupply"
                    }
                  ]
                }
              }
            }
          }
        ],
        "tags": ["Demands"],
        "responses": {
          "200": {
            "description": "A list of demands",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/savedDemand" }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/demands/archive": {
      "post": {
        "summary": "Archive demands",
        "tags": ["Demands"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/archiveDemand"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Demands successfully archived."
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "409": {
            "description": "Conflict occurred (e.g., demand is already archived)."
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      }
    },
    "/demands/{id}": {
      "parameters": [
        {
          "$ref": "#/components/parameters/demandId"
        }
      ],
      "get": {
        "tags": ["Demands"],
        "summary": "Returns information for a specific demand",
        "responses": {
          "200": {
            "description": "Information for the demand",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/savedDemand"}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A demand with such ID has not been found"
          }
        }
      },
      "patch": {
        "tags": ["Demands"],
        "summary": "Edit a specific demand",
        "description": "",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/editDemand"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Information for the demand",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/editedDemand"}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A demand with such ID has not been found"
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      }
    },
    "/demands/{id}/add-offer": {
      "parameters": [
        {
          "$ref": "#/components/parameters/demandId"
        }
      ],
      "put": {
        "tags": ["Demands"],
        "summary": "Add offer for a specific demand",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/addOffer"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Information for the demand",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/savedDemand"}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A demand with such ID has not been found"
          }
        }
      }
    },
    "/demands/{id}/remove-offer": {
      "parameters": [
        {
          "$ref": "#/components/parameters/demandId"
        }
      ],
      "put": {
        "tags": ["Demands"],
        "summary": "Remove offer from a specific demand",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "An item which needs to be procured (a purchase requisition).",
                "required": ["email"],
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "Supplier email address",
                    "example": "supplier3@email.com"
                  }
                }
              },
              "example": {
                "email": "supplier3@example.com"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Information for the demand",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/savedDemand"}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A demand with such ID has not been found"
          }
        }
      }
    },
    "/demands/{id}/deal": {
      "parameters": [
        {
          "$ref": "#/components/parameters/demandId"
        }
      ],
      "get": {
        "tags": ["Demands"],
        "summary": "Returns information for a deal made for a demand",
        "responses": {
          "200": {
            "description": "Information for deal",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/deal"},
                "example": {
                  "demandId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
                  "hasDeal": true,
                  "totalPrice": {
                    "amount": "600",
                    "currency": "EUR"
                  },
                  "unitPrice": {
                    "amount": "200",
                    "currency": "EUR"
                  },
                  "supplier": {
                    "email": "the-winner@chairs.com",
                    "supplierNumber": "ex-993841",
                    "supplierDomain": "sap",
                    "companyName": "The Best Chairs & Sons Ltd."
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A demand with such ID has not been found"
          }
        }
      }
    },
    "/demands/{id}/fields": {
      "parameters": [
        {
          "$ref": "#/components/parameters/demandId"
        }
      ],
      "post": {
        "tags": ["Demands"],
        "summary": "Create a custom field to a specific demand",
        "description": "",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/requestField"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Information for the demand",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/editedDemand"}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      }
    },
    "/demands/{id}/fields/{fieldId}": {
      "parameters": [
        {
          "$ref": "#/components/parameters/demandId"
        },
        {
          "$ref": "#/components/parameters/fieldId"
        }
      ],
      "patch": {
        "tags": ["Demands"],
        "summary": "Edit a specific custom field to a specific demand",
        "description": "",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/requestField"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Information for the demand",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/responseField"}
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      },
      "delete": {
        "tags": ["Demands"],
        "summary": "Delete a specific custom field from a specific demand",
        "description": "",
        "responses": {
          "204": {
            "description": "Demands successfully deleted."
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/demands/{id}/request": {
      "parameters": [
        {
          "$ref": "#/components/parameters/demandId"
        }
      ],
      "get": {
        "tags": ["Demands"],
        "summary": "Returns request information for a specific demand",
        "responses": {
          "200": {
            "description": "Information for the request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "requestData": {
                      "oneOf": [
                        {"$ref": "#/components/schemas/requestData"}
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A demand with such ID has not been found"
          }
        }
      }
    },
    "/historical-prices": {
      "get": {
        "summary": "Fetch a paginated list of historical prices",
        "tags": ["Historical Prices"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "The number of the page to fetch starting at 1"
          },
          {
            "name": "productOrderNumber",
            "in": "query",
            "required": false,
            "allowEmptyValue": false,
            "schema": {
              "type": "string"
            },
            "description": "Filter results by exact product order number (exact match).",
            "example": "PO-2024-001234"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of historical prices",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/historicalPrice"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "Create a new historical price record",
        "tags": ["Historical Prices"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/newHistoricalPrice"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Historical price record was created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/historicalPrice"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      }
    },
    "/historical-prices/clear": {
      "post": {
        "summary": "Clear all historical prices for an organization",
        "tags": ["Historical Prices"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Historical prices successfully cleared"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/historical-prices/{id}": {
      "parameters": [
        {
          "$ref": "#/components/parameters/historicalPriceId"
        }
      ],
      "get": {
        "summary": "Returns information for a specific historical price",
        "tags": ["Historical Prices"],
        "responses": {
          "200": {
            "description": "Information for the historical price",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/historicalPrice"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A historical price with such ID has not been found"
          }
        }
      },
      "patch": {
        "summary": "Update a specific historical price",
        "tags": ["Historical Prices"],
        "requestBody": {
          "required": true,
          "content": {
            "application/merge-patch+json": {
              "schema": { "$ref": "#/components/schemas/patchHistoricalPrice" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Historical price was updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/historicalPrice"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A historical price with such ID has not been found"
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      },
      "delete": {
        "summary": "Delete a specific historical price",
        "tags": ["Historical Prices"],
        "responses": {
          "204": {
            "description": "Historical price successfully deleted"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A historical price with such ID has not been found"
          }
        }
      }
    },
    "/custom-suppliers": {
      "get": {
        "summary": "Fetch a paginated list of custom suppliers",
        "tags": ["Custom Suppliers"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "The number of the page to fetch starting at 1"
          },
          {
            "name": "q",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Search query parameter by all fields"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of custom suppliers",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/customSupplierListResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "Create a new custom supplier",
        "tags": ["Custom Suppliers"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/newCustomSupplier"
              },
              "examples": {
                "withEmail": {
                  "summary": "Create supplier with email",
                  "value": {
                    "number": "SUP-12345",
                    "name": "ACME Corporation",
                    "email": "contact@acme.com",
                    "contacts": [
                      { "email": "contact@acme.com", "name": "Main contact", "note": "" }
                    ]
                  }
                },
                "withoutEmail": {
                  "summary": "Create supplier without email (email taken from first contact)",
                  "value": {
                    "number": "SUP-12345",
                    "name": "ACME Corporation",
                    "contacts": [
                      { "email": "contact@acme.com", "name": "Main contact", "note": "" }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Custom supplier was created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/customSupplier"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      }
    },
    "/custom-suppliers/{id}": {
      "parameters": [
        {
          "$ref": "#/components/parameters/customSupplierId"
        }
      ],
      "get": {
        "summary": "Returns information for a specific custom supplier",
        "tags": ["Custom Suppliers"],
        "responses": {
          "200": {
            "description": "Information for the custom supplier",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/customSupplier"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A custom supplier with such ID has not been found"
          }
        }
      },
      "patch": {
        "summary": "Update a specific custom supplier",
        "tags": ["Custom Suppliers"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/updateCustomSupplier"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Custom supplier was updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/customSupplier"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A custom supplier with such ID has not been found"
          },
          "422": {
            "description": "Unprocessable entity"
          }
        }
      },
      "delete": {
        "summary": "Delete a specific custom supplier",
        "tags": ["Custom Suppliers"],
        "responses": {
          "204": {
            "description": "Custom supplier successfully deleted"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "A custom supplier with such ID has not been found"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer"
      },
      "OAuth2ClientCredentials": {
        "type": "oauth2",
        "description": "Issues an access token using the **Client Credentials** grant type.\n\n client_id: The unique UUID of your organization\n\n client_secret: The secret API token assigned to your organization",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "/oauth/token",
            "scopes": {}
          }
        }
      }
    },
    "responses": {
      "UnauthorizedError": {
        "description": "Access token is missing or invalid"
      }
    },
    "parameters": {
      "customSupplierId": {
        "name": "id",
        "in": "path",
        "description": "The mysupply ID of the custom supplier",
        "required": true,
        "allowEmptyValue": false,
        "schema": {
          "type": "string",
          "format": "uuid"
        },
        "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
      },
      "historicalPriceId": {
        "name": "id",
        "in": "path",
        "description": "The mysupply ID of the historical price",
        "required": true,
        "allowEmptyValue": false,
        "schema": {
          "type": "string",
          "format": "uuid"
        },
        "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
      },
      "demandId": {
        "name": "id",
        "in": "path",
        "description": "The mysupply ID of the demand",
        "required": true,
        "allowEmptyValue": false,
        "schema": {
          "type": "string"
        },
        "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
      },
      "fieldId": {
        "name": "fieldId",
        "in": "path",
        "description": "The mysupply ID of the custom field of the demand",
        "required": true,
        "allowEmptyValue": false,
        "schema": {
          "type": "string"
        },
        "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
      }
    },
    "schemas": {
      "historicalPrice": {
        "type": "object",
        "description": "A historical price record for purchased materials",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "The mysupply ID of the historical price",
            "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
          },
          "productOrderNumber": {
            "type": "string",
            "description": "Product order number",
            "example": "PO-2024-001234"
          },
          "materialNumber": {
            "type": "string",
            "description": "Material number from ERP system",
            "example": "MAT-789456"
          },
          "materialGroup": {
            "type": "string",
            "description": "Material group classification",
            "example": "MG-ELECTRONICS"
          },
          "materialNumberDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the material number",
            "example": "High-performance microprocessor unit"
          },
          "materialGroupDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the material group",
            "example": "Electronic components and semiconductors"
          },
          "demandTitle": {
            "type": "string",
            "description": "Title of the demand/requisition",
            "example": "Office Electronics Q1 2024"
          },
          "demandDescription": {
            "type": "string",
            "nullable": true,
            "description": "Detailed description of the demand",
            "example": "Procurement of electronic components for office equipment upgrade"
          },
          "demandQuantity": {
            "type": "string",
            "nullable": true,
            "description": "Quantity ordered",
            "example": "50"
          },
          "price": {
            "$ref": "#/components/schemas/price"
          },
          "supplierNumber": {
            "type": "string",
            "description": "Supplier number from ERP system",
            "example": "SUP-456789"
          },
          "orderDate": {
            "type": "string",
            "format": "date-time",
            "description": "Date when the order was placed",
            "example": "2024-01-15T10:30:00Z"
          },
          "contractId": {
            "type": "string",
            "nullable": true,
            "description": "The number of the contract if one with which the PO was made."
          },
          "customData": {
            "type": "object",
            "description": "Custom data fields (free-form JSON object).",
            "default": {},
            "additionalProperties": true,
            "example": {
              "tag": "company",
              "category": "chemicals",
              "note": "imported from SAP"
            }
          }
        }
      },
      "newHistoricalPrice": {
        "type": "object",
        "description": "Data required to create a new historical price record",
        "required": [
          "productOrderNumber",
          "materialNumber",
          "materialGroup",
          "demandTitle",
          "price",
          "supplierNumber",
          "orderDate"
        ],
        "properties": {
          "productOrderNumber": {
            "type": "string",
            "description": "Product order number",
            "example": "PO-2024-001234"
          },
          "materialNumber": {
            "type": "string",
            "description": "Material number from ERP system",
            "example": "MAT-789456"
          },
          "materialGroup": {
            "type": "string",
            "description": "Material group classification",
            "example": "MG-ELECTRONICS"
          },
          "materialNumberDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the material number",
            "example": "High-performance microprocessor unit"
          },
          "materialGroupDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the material group",
            "example": "Electronic components and semiconductors"
          },
          "demandTitle": {
            "type": "string",
            "description": "Title of the demand/requisition",
            "example": "Office Electronics Q1 2024"
          },
          "demandDescription": {
            "type": "string",
            "nullable": true,
            "description": "Detailed description of the demand",
            "example": "Procurement of electronic components for office equipment upgrade"
          },
          "demandQuantity": {
            "type": "string",
            "nullable": true,
            "description": "Quantity ordered",
            "example": "50"
          },
          "price": {
            "$ref": "#/components/schemas/price"
          },
          "supplierNumber": {
            "type": "string",
            "description": "Supplier number from ERP system",
            "example": "SUP-456789"
          },
          "orderDate": {
            "type": "string",
            "format": "date-time",
            "description": "Date when the order was placed",
            "example": "2024-01-15T10:30:00Z"
          },
          "contractId": {
            "type": "string",
            "nullable": true,
            "description": "The number of the contract if one with which the PO was made."
          },
          "customData": {
            "type": "object",
            "description": "Custom data fields (free-form JSON object).",
            "additionalProperties": true,
            "nullable": true,
            "example": {
              "tag": "company"
            }
          }
        }
      },
      "patchHistoricalPrice": {
        "type": "object",
        "description": "Fields to patch on a historical price record (all fields optional).",
        "properties": {
          "productOrderNumber": {
            "type": "string",
            "description": "Product order number",
            "example": "PO-2024-001234",
            "nullable": true
          },
          "materialNumber": {
            "type": "string",
            "description": "Material number from ERP system",
            "example": "MAT-789456",
            "nullable": true
          },
          "materialGroup": {
            "type": "string",
            "description": "Material group classification",
            "example": "MG-ELECTRONICS",
            "nullable": true
          },
          "materialNumberDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the material number",
            "example": "High-performance microprocessor unit"
          },
          "materialGroupDescription": {
            "type": "string",
            "nullable": true,
            "description": "Description of the material group",
            "example": "Electronic components and semiconductors"
          },
          "demandTitle": {
            "type": "string",
            "nullable": true
          },
          "demandDescription": {
            "type": "string",
            "nullable": true,
            "description": "Detailed description of the demand",
            "example": "Procurement of electronic components for office equipment upgrade"
          },
          "demandQuantity": {
            "type": "string",
            "nullable": true,
            "description": "Quantity ordered",
            "example": "50"
          },
          "price": {
            "nullable": true,
            "allOf": [
              { "$ref": "#/components/schemas/price" }
            ]
          },
          "supplierNumber": {
            "type": "string",
            "description": "Supplier number from ERP system",
            "example": "SUP-456789",
            "nullable": true
          },
          "orderDate": {
            "type": "string",
            "format": "date-time",
            "description": "Date when the order was placed",
            "example": "2024-01-15T10:30:00Z",
            "nullable": true
          },
          "contractId": {
            "type": "string",
            "nullable": true,
            "description": "The number of the contract if one with which the PO was made."
          },
          "customData": {
            "type": "object",
            "additionalProperties": true,
            "example": {
              "tag": "company"
            },
            "nullable": true
          }
        }
      },
      "price": {
        "type": "object",
        "description": "A monetary value (unit price)",
        "required": ["amount", "currency"],
        "properties": {
          "amount": {
            "type": "string",
            "format": "{1,9}+(\\.\\d+)?",
            "description": "A decimal string representation of the price amount with fixed precision",
            "example": "17.05"
          },
          "currency": {
            "type": "string",
            "description": "The currency code of the monetary value (ISO 4217)",
            "example": "EUR",
            "minLength": 3,
            "maxLength": 3,
            "pattern": "^[A-Z]{3}$"
          }
        }
      },
      "newDemand": {
        "type": "object",
        "description": "An item which needs to be procured (a purchase requisition).",
        "properties": {
          "title": {
            "type": "string",
            "description": "A brief explanation of the demand.",
            "example": "Office Chairs"
          },
          "quantity": {
            "allOf": [ { "$ref": "#/components/schemas/decimal" } ],
            "description": "The quantity needed.",
            "example": 20
          },
          "unitOfMeasure": {
            "allOf": [ { "$ref": "#/components/schemas/unitOfMeasure" } ],
            "example": "piece"
          },
          "currency": {
            "type": "string",
            "description": "Optional currency code for the demand (ISO 4217).",
            "example": "USD",
            "minLength": 3,
            "maxLength": 3,
            "pattern": "^[A-Z]{3}$",
            "nullable": true
          },
          "demandSuppliers":{
            "type": "array",
            "description": "Suppliers list",
            "items": {
              "type": "object",
              "required": ["email"],
              "properties": {
                "email" : {
                  "type": "string",
                  "description": "Supplier email address",
                  "example": "supplier@email.com"
                },
                "number" : {
                  "type": "string",
                  "description": "Supplier number",
                  "example": "rsw1234vd"
                },
                "domain" : {
                  "type": "string",
                  "description": "Supplier domain",
                  "example": "sap"
                }
              }
            }
          },
          "demandOffers":{
            "type": "array",
            "description": "Demand offers list",
            "items": {
              "type": "object",
              "required": ["supplier", "unitPrice"],
              "properties": {
                "supplier": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/supplier"
                    }
                  ]
                },
                "unitPrice": {
                  "description": "The price for a single unit of the demand.",
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/price"
                    }
                  ]
                },
                "attachments": {
                  "description": "Attachments list",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "content": {
                        "type": "string",
                        "format": "base64",
                        "example": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAcCAYAAAB"
                      },
                      "name": {
                        "type": "string",
                        "example": "example.pdf"
                      }
                    }
                  }
                }
              }
            }
          },
          "fields": {
            "description": "Custom fields list",
            "allOf": [ { "$ref": "#/components/schemas/requestFields" } ]
          },
          "requestor": {
            "allOf": [
              {"$ref": "#/components/schemas/requestor"}
            ]
          },
          "ownerId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Category owner"
          }
        },
        "required": ["title", "quantity", "unitOfMeasure"]
      },
      "editDemand": {
        "type": "object",
        "description": "The new values for the item which needs to be edited",
        "properties": {
          "title": {
            "type": "string",
            "description": "A brief explanation of the demand.",
            "example": "Office Chairs"
          },
          "quantity": {
            "allOf": [ { "$ref": "#/components/schemas/decimal" } ],
            "description": "The quantity needed.",
            "example": 20
          },
          "unit": {
            "allOf": [ { "$ref": "#/components/schemas/unitOfMeasure" } ],
            "example": "piece"
          },
          "currency": {
            "type": "string",
            "description": "Optional currency code for the demand (ISO 4217).",
            "example": "EUR",
            "minLength": 3,
            "maxLength": 3,
            "pattern": "^[A-Z]{3}$",
            "nullable": true
          },
          "fields": {
            "description": "Custom fields list",
            "allOf": [ { "$ref": "#/components/schemas/editRequestFields" } ]
          },
          "demandSuppliers": {
            "type": "array",
            "description": "Suppliers list",
            "items": {
              "type": "object",
              "required": ["email"],
              "properties": {
                "email" : {
                  "type": "string",
                  "description": "Supplier email address",
                  "example": "supplier@email.com"
                },
                "number" : {
                  "type": "string",
                  "description": "Supplier number",
                  "example": "qqwer11234sdsvv"
                },
                "domain" : {
                  "type": "string",
                  "description": "Supplier domain",
                  "example": "sap",
                  "nullable": true
                }
              }
            }
          },
          "description": {
            "type": "string",
            "description": "A brief explanation of the demand.",
            "example": "Office Chairs which are best for use in a big room"
          }
        }
      },
      "archiveDemand": {
        "type": "object",
        "properties": {
          "demandIds": {
            "type": "array",
            "description": "An array of demand IDs to be archived",
            "items": {
              "type": "string",
              "format": "uuid",
              "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
            }
          },
          "reason": {
            "type": "string",
            "nullable": true,
            "description": "Archived reason"
          },
          "notifyRequestors": {
            "type": "boolean",
            "default": false
          }
        }
      },
      "addOffer": {
        "type": "object",
        "description": "An item which needs to be procured (a purchase requisition).",
        "properties": {
          "demandOffer":{
            "type": "object",
            "description": "Demand offers list",
            "required": ["supplier", "unitPrice"],
            "properties": {
              "supplier": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/supplier"
                  }
                ]
              },
              "unitPrice": {
                "description": "The price for a single unit of the demand.",
                "allOf": [ { "$ref": "#/components/schemas/price" } ]
              },
              "attachments": {
                "description": "Attachments list",
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "content": {
                      "type": "string",
                      "format": "base64",
                      "example": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAcCAYAAAB"
                    },
                    "name": {
                      "type": "string",
                      "example": "example.pdf"
                    }
                  }
                }
              }
            }
          }
        },
        "required": ["demandOffer"]
      },
      "baseResponseDemand": {
        "type": "object",
        "description": "A demand which has been saved in the mysupply DB",
        "properties": {
          "title": {
            "type": "string",
            "description": "A brief explanation of the demand.",
            "example": "Office Chairs"
          },
          "quantity": {
            "allOf": [ { "$ref": "#/components/schemas/decimal" } ],
            "description": "The quantity needed.",
            "example": 20
          },
          "unitOfMeasure": {
            "allOf": [ { "$ref": "#/components/schemas/unitOfMeasure" } ],
            "example": "piece"
          },
          "currency": {
            "type": "string",
            "description": "Currency code associated with the demand (ISO 4217).",
            "example": "USD",
            "minLength": 3,
            "maxLength": 3,
            "pattern": "^[A-Z]{3}$",
            "nullable": true,
            "readOnly": true
          },
          "demandSuppliers":{
            "type": "array",
            "description": "Suppliers list",
            "items": {
              "type": "object",
              "properties": {
                "email" : {
                  "type": "string",
                  "description": "Supplier email address",
                  "example": "supplier@email.com"
                },
                "number" : {
                  "type": "string",
                  "description": "Supplier number",
                  "example": "rsw1234vd"
                },
                "domain" : {
                  "type": "string",
                  "description": "Supplier domain",
                  "example": "sap",
                  "nullable": true
                }
              }
            }
          },
          "demandOffers":{
            "type": "object",
            "description": "Demand offers list",
            "required": ["supplier", "unitPrice"],
            "properties": {
              "supplier": {
                "allOf": [ { "$ref": "#/components/schemas/supplier" } ]
              },
              "unitPrice": {
                "description": "The price for a single unit of the demand.",
                "allOf": [ { "$ref": "#/components/schemas/price" } ]
              },
              "attachments": {
                "description": "Attachments list",
                "allOf": [ { "$ref": "#/components/schemas/attachments" } ]
              }
            }
          },
          "fields": {
            "description": "Custom fields list",
            "allOf": [ { "$ref": "#/components/schemas/responseFields" } ]
          },
          "requestor": {
            "allOf": [
              {"$ref": "#/components/schemas/requestor"}
            ]
          },
          "archivedReason": {
            "type": "string",
            "nullable": true,
            "description": "Archived reason. Exists only if demand is archived."
          }
        }
      },
      "savedDemand": {
        "allOf": [
          { "$ref": "#/components/schemas/baseResponseDemand" },
          {
            "type": "object",
            "description": "A demand which has been saved in the mysupply DB",
            "properties": {
              "id": {
                "type": "string",
                "readOnly": true,
                "description": "The mysupply ID of the demand",
                "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
              },
              "status": {
                "enum": ["awaiting", "processing", "processed", "archived"],
                "readOnly": true,
                "description": "The status of the demand.",
                "example": "processed"
              },
              "processingPhase": {
                "enum": ["", "setup", "awaiting-offers", "evaluation", "negotiation-setup", "awaiting-awarding", "finished", "deleted"],
                "readOnly": true,
                "description": "The phase of the workflow.",
                "example": "setup"
              }
            }
          }
        ]
      },
      "editedDemand": {
        "allOf": [
          { "$ref": "#/components/schemas/baseResponseDemand" },
          {
            "type": "object",
            "description": "A demand which has been edited in the mysupply DB"
          }
        ]
      },
      "unitOfMeasure": {
        "type": "string",
        "description": "The unit of measure for the quantity needed.",
        "enum": [
          "centimeter",
          "cubic-centimeter",
          "cubic-meter",
          "gram",
          "meter",
          "millimeter",
          "square-meter",
          "kilogram",
          "kilowatt-hour",
          "liter",
          "piece",
          "square-centimeter",
          "ton",
          "minute",
          "hour",
          "day",
          "month",
          "other"
        ],
        "example": "piece"
      },
      "deal": {
        "type": "object",
        "readOnly": true,
        "nullable": true,
        "description": "Information about the supplier delivering the item and the price of the deal",
        "properties": {
          "demandId": {
            "type": "string",
            "readOnly": true,
            "description": "Demand ID",
            "format": "uuid"
          },
          "hasDeal": {
            "type": "boolean",
            "readOnly": true,
            "description": "Deal existing"
          },
          "unitPrice": {
            "readOnly": true,
            "nullable": true,
            "description": "The price for a single unit of the demand.",
            "allOf": [ { "$ref": "#/components/schemas/price" } ]
          },
          "totalPrice": {
            "readOnly": true,
            "nullable": true,
            "description": "The price for the demand.",
            "allOf": [ { "$ref": "#/components/schemas/price" } ]
          },
          "supplier": {
            "nullable": true,
            "readOnly": true,
            "type": "object",
            "description": "Information about the supplier delivering the demand",
            "properties": {
              "email": {
                "type": "string",
                "readOnly": true,
                "example": "the-best@chairs.com"
              },
              "supplierNumber": {
                "type": "string",
                "readOnly": true,
                "description": "The supplier number provided by the purchaser's organization. If no such number is provided, a default one will be set",
                "example": "sup-99310"
              },
              "supplierDomain": {
                "type": "string",
                "readOnly": true,
                "description": "The supplier domain provided by the purchaser's organization.",
                "example": "sap",
                "nullable": true
              },
              "companyName": {
                "type": "string",
                "readOnly": true,
                "description": "The name of the company of the supplier as provided by the supplier.",
                "example": "The Best Chairs & Sons Ltd."
              }
            }
          }
        }
      },
      "decimal": {
        "type": "string",
        "format": "{1,9}+(\\.\\d+)?",
        "description": "A decimal string representation of a number with fixed precision.",
        "example": "17.05"
      },
      "supplier": {
        "type": "object",
        "required": [ "email" ],
        "properties": {
          "email": {
            "type": "string",
            "description": "Supplier email address",
            "example": "supplier@email.com"
          },
          "number": {
            "type": "string",
            "description": "Supplier number"
          },
          "name": {
            "type": "string",
            "nullable": true,
            "description": "Supplier name"
          },
          "domain": {
            "type": "string",
            "nullable": true,
            "description": "Supplier domain"
          }
        }
      },
      "attachments": {
        "description": "Attachments list",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid",
              "example": "38beff27-33ed-4ee0-bd17-fd75a6f9db3c"
            },
            "fileName": {
              "type": "string",
              "example": "example.pdf"
            },
            "mimeType": {
              "type": "string",
              "example": "image/png"
            },
            "size": {
              "type": "integer",
              "example": 500
            }
          }
        }
      },
      "baseField": {
        "type": "object",
        "description": "A single field with extra information about the demand.",
        "required": ["name", "value"],
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the field.",
            "example": "lastPrice"
          },
          "value": {
            "description": "The value of the field, which can vary significantly depending on the type. It can be a simple string, a complex structured object, a specific schema-defined object (like price, address, or attachment), or an array containing any combination of strings, objects, or arrays."
          },
          "public": {
            "type": "boolean",
            "description": "If ture - the field will be displayed to supplier. Otherwise, the field will be visible only to members of the purchasing organization.",
            "example": false
          },
          "type": {
            "enum": ["text", "date", "number", "total_price", "unit_price", "address", "attachment"],
            "default": "text",
            "description": "Specifies the expected data type of the 'value' field and determines how the system renders and validates the input. This property guides the format and validation rules for the 'value'. Each predefined type has specific requirements:\n- **text**: Expect a simple string. Suitable for general text.\n- **date**: The 'value' should be a string formatted as an ISO 8601 date.\n- **number**: Expect a numeric value formatted as a string.\n- **total_price**, **unit_price**: The 'value' should conform to the 'price' schema, typically including properties like 'amount' and 'currency'.\n- **address**: The 'value' must match the 'address' schema, including details such as country, region, city, etc.\n- **attachment**: Expect an 'attachment' object containing properties like 'fileName' and 'data', where 'data' is base64-encoded content of the file.\n- **custom**: Any other type of data defined by the user, allowing for maximum flexibility. The system will accept any valid JSON value (string, number, object, array, boolean, or null) based on user needs and context. This setting should be used when the data does not fit any other predefined types and requires custom handling.",
            "example": "total_price"
          }
        }
      },
      "requestField": {
        "allOf": [
          { "$ref": "#/components/schemas/baseField" },
          {
            "type": "object",
            "description": "A single field with extra information about the demand.",
            "properties": {
              "value": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Used for text, date, and number types."
                  },
                  { "$ref": "#/components/schemas/price" },
                  { "$ref": "#/components/schemas/address" },
                  { "$ref": "#/components/schemas/requestAttachment" },
                  {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Any other object with free-form properties."
                  }
                ],
                "example": "{\"amount\": \"219.99\", \"currency\": \"EUR\"}"
              }
            }
          }
        ]
      },
      "editRequestField": {
        "allOf": [
          { "$ref": "#/components/schemas/requestField" },
          {
            "type": "object",
            "description": "A single field with extra information about the demand.",
            "properties": {
              "id": {
                "type": "string",
                "description": "The custom field id (optional) - use it only if edit existing field",
                "example": "b97d2783-d1d5-4947-ac7d-0e3182b9d6fb"
              }
            }
          }
        ]
      },
      "responseField": {
        "allOf": [
          { "$ref": "#/components/schemas/baseField" },
          {
            "type": "object",
            "description": "A single field with extra information about the demand.",
            "properties": {
              "value": {
                "oneOf": [
                  {
                    "type": "string",
                    "description": "Used for text, date, and number types."
                  },
                  { "$ref": "#/components/schemas/price" },
                  { "$ref": "#/components/schemas/address" },
                  { "$ref": "#/components/schemas/responseAttachment" },
                  {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Any other object with free-form properties."
                  }
                ],
                "example": "{\"amount\": \"219.99\", \"currency\": \"EUR\"}"
              },
              "id": {
                "type": "string",
                "description": "The id of the field saved in the database",
                "example": "b97d2783-d1d5-4947-ac7d-0e3182b9d6fb"
              }
            }
          }
        ]
      },
      "requestFields": {
        "description": "Arbitrary data related to the item.",
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/requestField"
        }
      },
      "editRequestFields": {
        "description": "Arbitrary data related to the item.",
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/editRequestField"
        }
      },
      "responseFields": {
        "description": "Arbitrary data related to the item.",
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/responseField"
        }
      },
      "address": {
        "type": "object",
        "description": "The address.",
        "properties": {
          "country": {
            "type": "string",
            "description": "Country",
            "example": "Germany"
          },
          "region": {
            "type": "string",
            "description": "Region"
          },
          "city": {
            "type": "string",
            "description": "The city of the address",
            "example": "Berlin"
          },
          "postalCode": {
            "type": "string",
            "description": "The postal code of the address",
            "example": "1142"
          },
          "streetAddress1": {
            "type": "string",
            "description": "The street address"
          },
          "streetAddress2": {
            "type": "string",
            "description": "The street address"
          }
        }
      },
      "requestAttachment": {
        "type": "object",
        "description": "An attachment object representing a file to be associated with a request or data entry. The file data is expected to be in base64-encoded format, which allows binary data to be transmitted as a string. This format supports a wide range of file types, from plain text documents to images and complex binary files. The 'fileName' property should provide the original file name, helping to identify the file type and intended use. The 'data' property should contain the actual file content encoded in base64, suitable for transmission and storage in JSON.",
        "properties": {
          "fileName": {
            "type": "string",
            "description": "The name of the attachment",
            "example": "AttachmentName.txt"
          },
          "data": {
            "type": "string",
            "description": "The file content encoded in base64. This encoding ensures that binary data can be safely transmitted over media that are designed to deal with textual data. It allows complex files such as images or PDFs to be transferred as part of the JSON object.",
            "example": "data:text/plain;base64,VGhpcyBpcyBhIG5ldyB0ZXN0IGZpbGUgd2l0aCBzb21lIGNvbnRlbnQuIEl0IHNob3VsZCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgb25lIHdlIGhhdmUgYWxyZWFkeQ=="
          }
        }
      },
      "responseAttachment": {
        "type": "object",
        "description": "An attachment object representing a file to be associated with a request or data entry. The file data is expected to be in base64-encoded format, which allows binary data to be transmitted as a string. This format supports a wide range of file types, from plain text documents to images and complex binary files. The 'fileName' property should provide the original file name, helping to identify the file type and intended use. The 'data' property should contain the actual file content encoded in base64, suitable for transmission and storage in JSON.",
        "properties": {
          "fileName": {
            "type": "string",
            "description": "The name of the attachment",
            "example": "AttachmentName.txt"
          },
          "mimeType": {
            "type": "string",
            "description": "The file content encoded in base64. This encoding ensures that binary data can be safely transmitted over media that are designed to deal with textual data. It allows complex files such as images or PDFs to be transferred as part of the JSON object.",
            "example": "text/plain"
          },
          "size": {
            "type": "integer",
            "description": "The size of the file",
            "example": "94"
          }
        }
      },
      "requestData": {
        "allOf": [
          {
            "type": "object",
            "description": "A request which is connected to demand",
            "properties": {
              "title": {
                "type": "string",
                "readOnly": true,
                "description": "The title of the request",
                "example": "title"
              },
              "description": {
                "type": "string",
                "readOnly": true,
                "description": "The description of the request",
                "example": "description"
              },
              "startDate": {
                "type": "string",
                "format": "date-time",
                "nullable": true,
                "readOnly": true,
                "description": "The startDate of the request",
                "example": "2024-07-09"
              },
              "finishDate": {
                "type": "string",
                "format": "date-time",
                "nullable": true,
                "readOnly": true,
                "description": "The finishDate of the request",
                "example": "2024-07-09"
              },
              "deliveryStartDate": {
                "type": "string",
                "format": "date-time",
                "nullable": true,
                "readOnly": true,
                "description": "The delivery start date of the request",
                "example": "2024-08-09"
              },
              "deliveryFinishDate": {
                "type": "string",
                "format": "date-time",
                "nullable": true,
                "readOnly": true,
                "description": "The delivery end date of the request",
                "example": "2024-08-10"
              },
              "termsOfDelivery": {
                "type": "string",
                "readOnly": true,
                "description": "The termsOfDelivery of the request",
                "example": "ex-works",
                "enum": [
                  "ex-works",
                  "free-carrier",
                  "free-alongside-ship",
                  "free-on-board",
                  "cost-and-freight",
                  "cost-insurance-and-freight",
                  "carriage-paid-to",
                  "carriage-insurance-paid-to",
                  "delivered-at-place",
                  "delivered-at-place-unloaded",
                  "delivered-duty-paid",
                  "services",
                  "other"
                ]
              },
              "termsOfPayment": {
                "type": "string",
                "readOnly": true,
                "description": "The termsOfPayment of the request",
                "example": "payment-in-advance",
                "enum": [
                  "payment-in-advance",
                  "payment-seven-days-after-invoice-date",
                  "payment-ten-days-after-invoice-date",
                  "payment-30-days-after-invoice-date",
                  "payment-60-days-after-invoice-date",
                  "payment-90-days-after-invoice-date",
                  "end-of-month",
                  "21-st-of-the-month-following-invoice-date",
                  "one-percent-discount-if-payment-received-within-ten-days-otherwise-payment-30-days-after-invoice-date",
                  "cash-on-delivery",
                  "account-conducted-on-a-cash-basis-no-credit",
                  "a-documentary-credit-confirmed-by-a-bank-often-used-for-export",
                  "a-promise-to-pay-at-a-later-date-usually-supported-by-a-bank",
                  "cash-next-delivery",
                  "cash-before-shipment",
                  "cash-in-advance",
                  "cash-with-order",
                  "monthly-credit-payment-of-a-full-months-supply",
                  "as-above-plus-an-extra-calendar-month",
                  "payment-from-the-customer-offset-against-the-value-of-supplies-purchased-from-the-customer",
                  "payment-of-agreed-amounts-at-stage",
                  "two-percent-discount-if-payment-received-within-fourteen-days-otherwise-payment-30-days-after-invoice-date",
                  "three-percent-discount-if-payment-received-within-fourteen-days-otherwise-payment-30-days-after-invoice-date",
                  "four-percent-discount-if-payment-received-within-fourteen-days-otherwise-payment-30-days-after-invoice-date",
                  "three-percent-discount-if-payment-received-within-30-days-otherwise-payment-45-days-after-invoice-date",
                  "other"
                ]
              },
              "currency": {
                "type": "string",
                "readOnly": true,
                "maxLength": 3,
                "minLength": 3,
                "pattern": "^[A-Z]{3}$",
                "description": "A 3 character ISO 4217 currency code",
                "example": "EUR"
              },
              "deliveryAddress": {
                "description": "The deliveryAddress of the request",
                "oneOf": [
                  {"$ref": "#/components/schemas/address"}
                ]
              },
              "invitations": {
                "type": "array",
                "example": ["example1@email.com", "example2@email.com"],
                "readOnly": true,
                "description": "The invitations of the request",
                "items": [
                  {
                    "type": "string",
                    "format": "email"
                  }
                ]
              }
            }
          }
        ]
      },
      "requestor": {
        "type": "object",
        "description": "The requestor",
        "properties": {
          "email": {
            "type": "string",
            "format": "email"
          }
        }
      },
      "customSupplier": {
        "type": "object",
        "description": "A custom supplier in the organization's supplier database",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "The mysupply ID of the custom supplier",
            "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
          },
          "number": {
            "type": "string",
            "description": "Supplier number",
            "example": "SUP-12345"
          },
          "domain": {
            "type": "string",
            "nullable": true,
            "description": "Supplier domain",
            "example": "sap"
          },
          "name": {
            "type": "string",
            "description": "Supplier company name",
            "example": "ACME Corporation"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Supplier email address",
            "example": "contact@acme.com"
          },
          "website": {
            "type": "string",
            "nullable": true,
            "description": "Supplier website URL",
            "example": "https://www.acme.com"
          },
          "info": {
            "type": "string",
            "nullable": true,
            "description": "Additional information about the supplier"
          },
          "keywords": {
            "type": "array",
            "description": "Keywords associated with the supplier",
            "items": {
              "type": "string"
            },
            "example": ["electronics", "manufacturing", "wholesale"]
          },
          "customData": {
            "type": "object",
            "description": "Custom data fields",
            "additionalProperties": {
              "type": "string"
            }
          },
          "address": {
            "$ref": "#/components/schemas/address"
          },
          "information": {
            "type": "string",
            "nullable": true,
            "description": "Additional information about the supplier"
          },
          "contacts": {
            "$ref": "#/components/schemas/contacts"
          }
        }
      },
      "newCustomSupplier": {
        "type": "object",
        "description": "Data required to create a new custom supplier",
        "required": ["name", "number"],
        "properties": {
          "number": {
            "type": "string",
            "description": "Supplier number",
            "example": "SUP-12345"
          },
          "domain": {
            "type": "string",
            "nullable": true,
            "description": "Supplier domain",
            "example": "sap"
          },
          "name": {
            "type": "string",
            "description": "Supplier company name",
            "example": "ACME Corporation"
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true,
            "description": "Supplier email address. Optional. If omitted, you must provide at least one item in `contacts`. The supplier email will be set to the first contacts email.",
            "example": "contact@acme.com"
          },
          "website": {
            "type": "string",
            "nullable": true,
            "description": "Supplier website URL",
            "example": "https://www.acme.com"
          },
          "info": {
            "type": "string",
            "nullable": true,
            "description": "Additional information about the supplier"
          },
          "keywords": {
            "type": "array",
            "description": "Keywords associated with the supplier",
            "items": {
              "type": "string"
            },
            "example": ["electronics", "manufacturing", "wholesale"]
          },
          "customData": {
            "type": "object",
            "description": "Custom data fields",
            "additionalProperties": {
              "type": "string"
            }
          },
          "address": {
            "$ref": "#/components/schemas/address"
          },
          "contacts": {
            "allOf": [
              {
                "$ref": "#/components/schemas/contacts"
              }
            ],
            "description": "Multiple contacts for one supplier. Required when `email` is omitted."
          }
        }
      },
      "updateCustomSupplier": {
        "type": "object",
        "description": "Data for updating an existing custom supplier",
        "properties": {
          "number": {
            "type": "string",
            "nullable": true,
            "description": "Supplier number"
          },
          "domain": {
            "type": "string",
            "nullable": true,
            "description": "Supplier domain"
          },
          "name": {
            "type": "string",
            "nullable": true,
            "description": "Supplier company name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "nullable": true,
            "description": "Supplier email address"
          },
          "website": {
            "type": "string",
            "nullable": true,
            "description": "Supplier website URL"
          },
          "info": {
            "type": "string",
            "nullable": true,
            "description": "Additional information about the supplier"
          },
          "keywords": {
            "type": "array",
            "nullable": true,
            "description": "Keywords associated with the supplier",
            "items": {
              "type": "string"
            }
          },
          "customData": {
            "type": "object",
            "description": "Custom data fields",
            "additionalProperties": {
              "type": "string"
            }
          },
          "address": {
            "$ref": "#/components/schemas/address"
          },
          "contacts": {
            "$ref": "#/components/schemas/contacts"
          }
        }
      },
      "deleteCustomSupplierList": {
        "type": "object",
        "description": "List of custom supplier IDs to delete",
        "properties": {
          "supplierIds": {
            "type": "array",
            "description": "Array of custom supplier IDs to be deleted",
            "items": {
              "type": "string",
              "format": "uuid",
              "example": "83da61b6-e11e-495d-9808-3e1ff7869c19"
            }
          }
        }
      },
      "customSupplierListResponse": {
        "type": "object",
        "required": ["data", "pagination"],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/customSupplier"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/pagination"
          }
        }
      },
      "contacts": {
        "type": "array",
        "description": "Multiple contacts for one supplier",
        "items": {
          "description": "Contact information for a supplier",
          "type": "object",
          "required": ["email"],
          "properties": {
            "email": {
              "type": "string",
              "format": "email",
              "description": "Contact email address"
            },
            "name": {
              "type": "string",
              "nullable": true,
              "description": "Contact name",
              "default": null
            },
            "note": {
              "type": "string",
              "default": "",
              "description": "Note for the contact"
            }
          }
        }
      },
      "pagination": {
        "type": "object",
        "required": [
          "first",
          "current",
          "last",
          "previous",
          "next",
          "totalItems",
          "parPage"
        ],
        "properties": {
          "first": {
            "type": "integer",
            "example": 1
          },
          "current": {
            "type": "integer",
            "example": 36
          },
          "last": {
            "type": "integer",
            "example": 36
          },
          "previous": {
            "type": "integer",
            "nullable": true,
            "example": 35
          },
          "next": {
            "type": "integer",
            "nullable": true,
            "example": 36
          },
          "totalItems": {
            "type": "integer",
            "example": 1065
          },
          "parPage": {
            "type": "integer",
            "example": 15
          }
        }
      },
      "AdvancedSearchQuery": {
        "type": "object",
        "required": ["type", "operator", "elements"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["query"]
          },
          "operator": {
            "type": "string",
            "enum": ["and", "or"]
          },
          "elements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AdvancedSearchElement"
            }
          }
        }
      },
      "AdvancedSearchElement": {
        "type": "object",
        "required": ["type", "field", "operator"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["element"]
          },
          "field": {
            "type": "string",
            "description": "Field name to filter on"
          },
          "operator": {
            "type": "string",
            "enum": [
              "eq",
              "neq",
              "lt",
              "lte",
              "gt",
              "gte",
              "contains",
              "not-contains",
              "blank",
              "not-blank"
            ]
          },
          "value": {
            "type": "string",
            "description": "Filter value (not required for blank / not-blank operators)"
          }
        }
      }
    }
  }
}
